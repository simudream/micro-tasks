{"version":3,"file":"querify.min.js","sources":["querify.js"],"names":["Query","queryOperations","queryComparisons","queryStackTrace","sharedContext","this","opMethods","compareMethods","trace","QueryComparisons","QueryOperations","QueryPromise","QueryPromiseComparisons","QueryPromiseOperations","QueryStackTrace","reset","resolveBrowserPromiseLib","window","Promise","ReferenceError","resolveBrowserPromiseExtrasLib","promiseExtras","lazyLoadPromiseDeps","$Promise","isBrowser","require","$promiseExtras","prototype","extract","modelDictionary","query","context","undefined","keys","Object","filteredDictionary","forEach","modelKey","modelIndex","stackLevel","write","model","result","executeQuery","call","filter","modelArray","filteredList","push","every","one","some","$default","modelValue","testValue","RegExp","$regexp","$equals","$length","length","test","$left","substring","$right","offset","$typeof","$instanceof","$toLowerCase","toLowerCase","$toUpperCase","toUpperCase","$inArray","testArray","indexOf","$has","Array","testItemValue","$g","$gte","$lte","$l","$e","$ne","$queryOne","$queryEvery","scope","$querySome","throwError","error","$and","operations","negateCompare","$or","$not","stackIndex","stack","executeCompare","operationkey","reject","compareMethod","compareValue","traceStack","executeValueOperations","descendantOps","operationKeys","hasOrOperation","element","everyResult","chainedThen","resolve","then","fulfil","classProto","create","operationIndex","operation","newStackEntry","level","defaultPromiseInstance","querifyLibrary",{"end":{"file":"querify.js","comments_before":[],"nlb":false,"endpos":20586,"pos":20579,"col":12,"line":482,"value":"promise","type":"name"},"start":{"file":"querify.js","comments_before":[],"nlb":false,"endpos":20586,"pos":20579,"col":12,"line":482,"value":"promise","type":"name"},"name":"promise"},"promise","sync","querify","module","exports"],"mappings":"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"}